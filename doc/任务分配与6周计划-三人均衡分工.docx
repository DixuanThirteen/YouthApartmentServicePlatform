三人小组 —— 前后端均衡任务分配与 6 周开发计划

版本：1.0  
作者：小组任务分配自动生成  
日期：2025-11-20

说明：本计划基于已确认的 MVP（用户注册/登录/Token 鉴权、个人资料/头像、修改密码、删除账号）。团队有 3 人，要求每人同时承担前端与后端任务，尽量均匀分配工作量。每周为一迭代，周工时按 40h/人 估算（可根据实际调整）。

参与者命名（若需替换为真实姓名或 GitHub 用户名，请替换）：
- 成员 A
- 成员 B
- 成员 C

交付物统一格式与流程（必须遵循）
- Git 分支策略：feature/{member}/{功能简述}，提交 PR 到 dev 分支。
- 每个功能 PR 至少一名组内 reviewer（轮流）。
- API 文档采用 Swagger/OpenAPI（后端负责注解并生成）。
- 前端使用 axios 封装并统一处理 token（localStorage）和错误提示。
- 每周五小结 + 次周计划同步，会由当周轮值成员整理会议纪要。

验收规则（每项交付）
- 代码能编译通过并能在测试环境运行。
- 单元/集成测试覆盖关键业务路径（注册/登录/上传/修改/删除）。
- 前端能够与后端联通（模拟或真实环境）。
- 文档（API 文档/部署说明/隐私草案）更新至项目仓库 docs 目录。

---

## 总体原则（均衡分配说明）
- 每周每人承担：后端功能实现 + 对应前端页面/交互 + 写基本测试/文档。
- 关键组件（如 token 中间件、密码加密）由一人主导实现，其他两人协作进行集成与前端对接，轮流负责主导以均衡经验累积。
- 上传/存储相关（avatar）后端实现与前端上传控件由不同成员交叉实现，确保互测。

---

## Week 1 — 项目初始化与数据库（目标：骨架与建表脚本）
Estimated：每人约 40h

成员 A
- 后端：
  - 初始化 Spring Boot 项目骨架（pom、application.yml、基本依赖）。
  - 完成 Users 表的 SQL 建表脚本与 Flyway/Liquibase 配置（建表包括 avatar/introduction）。
- 前端：
  - 初始化 Vue 项目（Vite/CLI）、路由结构与基础样式框架，搭建空页面路由（登录/注册/个人页占位）。
交付物：后端骨架、建表脚本、前端骨架。

成员 B
- 后端：
  - 实现 User 实体类与 MyBatis Mapper 接口（selectByUsername/selectById/insert/update/delete 的接口签名）。
  - 配置 MyBatis 与数据源连接，编写基础单元测试（连接测试）。
- 前端：
  - 搭建全局 axios 实例与基本请求拦截器（token 占位），实现页面路由跳转逻辑。
交付物：Mapper 接口、axios 基础封装、连接测试。

成员 C
- 后端：
  - 实现全局异常处理（BusinessException、@ControllerAdvice）与通用响应结构。
  - 编写隐私政策草案与数据字典（是否收集 idnumber 的建议）。
- 前端：
  - 完成项目 README、开发启动脚本与基本页面布局（Header、简单样式）。
交付物：异常处理代码、隐私草案、前端页面布局。

验收（Week1）
- 后端能连接 DB 并执行建表；前端能启动并访问占位页面；隐私草案及数据字典评审通过。

---

## Week 2 — 注册与登录（密码哈希 + token 方案确定）
Estimated：每人约 40h

主导（本周轮值主导实现 token）：成员 A（主导 JWT 工具），成员 B/C 协作集成。

成员 A
- 后端：
  - 实现注册接口（/api/auth/register），Service 层业务校验（用户名/邮箱/手机号唯一性），使用 BCrypt 存储密码。
  - 实现 LoginRequest DTO 和登录接口（/api/auth/login），集成 JWT 生成（或 UUID+Redis 的实现说明并实现某一方案）。
- 前端：
  - 实现注册页面与注册表单校验（基本格式验证），调用后端注册 API。
交付物：注册 API、登录 API、前端注册页面。

成员 B
- 后端：
  - 实现登录相关的服务层密码比对逻辑（BCrypt），编写单元测试。
  - 定义登录返回结构（含 token）与错误返回格式。
- 前端：
  - 实现登录页面、表单、调用登录 API 并在成功后保存 token（localStorage），实现登录后跳转逻辑。
交付物：登录 API、前端登录功能。

成员 C
- 后端：
  - 撰写 API 文档（Swagger 注解或 OpenAPI stub），补充接口说明（请求/返回示例）。
  - 实现简单 rate-limit 或记录登录失败次数（或至少接口计数器与日志）。
- 前端：
  - 完成前端统一错误提示组件与 token 插件（axios 拦截器自动带 Authorization: Bearer）。
交付物：API 文档、前端错误与 token 管理。

验收（Week2）
- 注册能创建用户且密码以 BCrypt 保存；登录成功返回 token，前端保存 token 并能访问登录受限页面。

---

## Week 3 — 鉴权中间件、个人信息与头像上传
Estimated：每人约 40h

主导（本周实现鉴权中间件）：成员 B（主导拦截器），成员 A/C 协作。

成员 A
- 后端：
  - 实现 /api/user/me（读取 token 并返回用户信息）。
  - 实现更新个人信息接口（PUT /api/user，不修改密码）。
- 前端：
  - 实现个人资料页 UI（显示用户名、昵称、简介、头像占位），并实现编辑提交逻辑。
交付物：/api/user/me、资料更新 API、前端个人页。

成员 B
- 后端：
  - 实现 JWT 校验 Filter 或 HandlerInterceptor（解析 Authorization header，验证 token，有效则将用户名注入 request attribute）。
  - 注册拦截器以保护需要鉴权的接口。
- 前端：
  - 将 axios 拦截器完善（401 处理，跳转登录），完成 token 过期场景处理说明。
交付物：鉴权中间件、token 过期处理流程。

成员 C
- 后端：
  - 实现头像上传接口（POST /api/user/avatar），处理 MultipartFile，先实现本地存储策略（文件名去重、保存路径），返回可访问 URL 存入 avatar 字段。
  - 对上传文件做类型/大小检查。
- 前端：
  - 实现头像上传控件（选择、预览、上传），上传后更新个人中心头像显示。
交付物：头像上传接口与前端实现。

验收（Week3）
- 受保护接口必须带 token 才能访问；头像上传能保存并在页面展示；个人资料能更新并保存到数据库。

---

## Week 4 — 密码修改与“忘记密码”基础
Estimated：每人约 40h

主导（本周密码逻辑优化）：成员 C（主导修改密码实现），其他成员配合。

成员 A
- 后端：
  - 协助实现修改密码接口（PUT /api/user/password），Service 层校验旧密码、用 BCrypt 比对、新密码加密后写入。
- 前端：
  - 完成修改密码页面（旧密码、新密码、确认新密码）并调用后端接口。
交付物：修改密码 API、前端修改密码页。

members B
- 后端：
  - 实现“忘记密码”基础流程的后端接口 stub（POST /api/auth/forgot）返回临时 token（或 mock），并定义流程文档（若集成邮件/SMS，添加集成点说明）。
  - 实现忘记密码的安全校验（临时 token 有效期、仅一次性使用）。
- 前端：
  - 实现忘记密码入口页（输入邮箱/手机号请求重置），并能使用测试模式的重置链接或 token 完成密码重置（模拟环境）。
交付物：忘记密码接口 stub、前端流程模拟。

member C
- 后端：
  - 编写单元测试覆盖密码修改逻辑（旧密码验证、新旧相同拒绝）。
  - 加强日志：记录密码修改事件（时间、用户、IP）用于审计。
- 前端：
  - 完善表单校验（密码强度提示）与用户提示信息。
交付物：测试用例、审计日志记录、前端校验。

验收（Week4）
- 修改密码需验证身份并用 BCrypt 保存；忘记密码流程在测试模式下可走通且安全说明文档充足。

---

## Week 5 — 自动化测试、安全与合规补强
Estimated：每人约 40h

成员 A
- 后端：
  - 完成注册/登录/资料/密码关键路径的单元与集成测试。
  - 对敏感字段（idnumber）说明存储/加密文档（若收集，说明加密方案）。
- 前端：
  - 实现自动化前端测试（如 Jest/Testing Library）覆盖登录/注册/个人页的关键交互。
交付物：测试用例与测试报告。

member B
- 后端：
  - 配置并生成 Swagger/OpenAPI 文档（确保所有 API 注解完整）。
  - 实施基础安全加固（CORS 白名单、输入参数校验 @Valid、限制上传大小）。
- 前端：
  - 实现前端安全提示（XSS 防范基本说明）与跨域配置配合。
交付物：API 文档、安全配置。

member C
- 后端：
  - 实现用户数据导出（JSON）与删除接口（DELETE /api/user），并记录删除日志（用于合规）。
  - 撰写隐私策略最终稿，明确数据保存期限与用户权利流程。
- 前端：
  - 在个人设置页加入口（导出数据/删除账号），并给出二次确认与风险提示。
交付物：导出/删除接口、隐私策略、前端入口。

验收（Week5）
- 自动化测试通过；API 文档完备；导出/删除接口功能齐全并在前端可触发。

---

## Week 6 — 部署到测试环境、E2E 与交付
Estimated：每人约 40h

member A
- 后端：
  - 协助 Docker 化后端（Dockerfile）、提供部署脚本与环境变量说明。
  - 配置数据库备份说明与健康检查 endpoint（/health）。
- 前端：
  - 构建生产包并编写 Nginx 静态资源部署说明（或上传到测试服务器并验证）。
交付物：Dockerfile、部署说明、health endpoint。

member B
- 后端：
  - 配置并运行简单监控/日志（集成基础 Prometheus metrics 或 log to file），提供监控项说明。
- 前端：
  - 完成最终联调（与后端测试环境）并整理 E2E 测试脚本（可使用 Cypress 或简单脚本）。
交付物：监控说明、E2E 脚本与报告。

member C
- 后端：
  - 最终回归测试、修复 Bug，并整理交付文档（API 文档、部署、回滚、隐私合规说明）。
- 前端：
  - 完成最终演示页面并协助演示（Demo）。
交付物：交付文档、演示材料、Release tag。

验收（Week6）
- 测试环境部署成功且关键流程可通过演示；交付文档齐全；E2E 测试结果通过或风险说明清晰。

---

## 额外协作细节与周会安排
- 每日 15 分钟站会（同步进度与阻塞点）。
- 每周五演示当周交付并进行 code review（PR 合并前必须通过 CI）。
- 代码 review 规则：功能正确、格式规范、无明文密码问题、关键逻辑有单元测试。
- 轮值 reviewer：每周由不同成员担任主 reviewer（Week1 A、Week2 B、Week3 C … 轮换）。

---

## 风险与缓解（对三人模式的建议）
- 风险：每人全栈分工可能导致知识盲区。缓解：关键功能（鉴权、密码加密、上传安全）至少两人共同 code review 并做一轮 Pair Programming。
- 风险：工作量分配不均。缓解：每周审查实际工时并在下周内调整任务。
- 风险：合规/安全漏项。缓解：Week5 做合规补强与文档最终确认，必要时咨询法务。

---

## 结语与下一步
请将“成员 A/B/C”替换为实际小组成员姓名或 GitHub 用户名，并在本仓库创建一个 project/kanban 看板（列：Backlog、In Progress、In Review、Done），将上述每项拆成 Issue 并分配到对应人员。
需要的话我可以根据你提供的真实成员名自动生成 GitHub Issue 模板并按照周计划分配到 Issue（需要你授权或提供仓库信息）。